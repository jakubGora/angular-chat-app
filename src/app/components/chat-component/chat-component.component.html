<div class="chatArea">
  <app-top-bar-component></app-top-bar-component>
  <ul class="messages" #chatList>
    <li class="log">Welcome to Socket Chat {{ getUsername() }}</li>

    <ng-container *ngFor="let mess of getMessageArray()">
      <ng-container *ngIf="mess.type === 'msg'; else logTmp">
        <ng-container *ngIf="mess.username == getUsername(); else elseTemplate">
          <li class="message right">
            <span class="username right">{{ mess.username }}</span>
            <span class="messageBody right">{{ mess.message }}</span>
          </li>
        </ng-container>
        <ng-template #elseTemplate
          ><li class="message">
            <span class="username">{{ mess.username }}</span>
            <span class="messageBody">{{ mess.message }}</span>
          </li>
        </ng-template>
      </ng-container>
      <ng-template #logTmp
        ><li class="log">
          <span class="username">{{ mess.username }}</span>
          <span class="messageBody">{{ mess.message }}</span>
        </li>
      </ng-template>
    </ng-container>

    <li *ngIf="typingUser" class="message typing">
      <span class="username">{{ typingUser }}</span>
      <span class="messageBody">...</span>
    </li>
  </ul>
  <app-chat-form-component
    [chatListElement]="chatListElement"
  ></app-chat-form-component>
</div>
